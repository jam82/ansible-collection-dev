---
# name: ansible-collection-meta
# file: playbooks/docs.yml

- name: "Generate documentation for role {{ meta_role_name }}"
  hosts: "{{ target | default('all') }}"
  gather_facts: false
  tasks:
    - name: "Generate LICENSE file from template"
      ansible.builtin.template:
        src: 'LICENSE.j2'
        dest: "{{ ansible_host }}/LICENSE"
        mode: "0644"

    - name: "Generate README.md file from template"
      ansible.builtin.template:
        src: 'README.md.j2'
        dest: "{{ ansible_host }}/README.md"
        mode: "0644"

    - name: "Generate CONTRIBUTING.md file from template"
      ansible.builtin.template:
        src: 'CONTRIBUTING.md.j2'
        dest: "{{ ansible_host }}/CONTRIBUTING.md"
        mode: "0644"
